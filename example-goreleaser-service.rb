# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class ExampleGoreleaserService < Formula
  desc ""
  homepage ""
  version "0.0.10"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/pthomison/example-goreleaser-systemd-service/releases/download/v0.0.10/example-goreleaser-service_0.0.10_Darwin_arm64.tar.gz"
      sha256 "e52bb093ce69581f653c79bf9a3be8ea76f0ee628b0604bb13bd19e200398792"

      def install
        bin.install "example-goreleaser-service"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/pthomison/example-goreleaser-systemd-service/releases/download/v0.0.10/example-goreleaser-service_0.0.10_Darwin_x86_64.tar.gz"
      sha256 "9bb9fac71078c30bb28a23fc0df09f2516a573cf3c66fe6c2128271a57104ad1"

      def install
        bin.install "example-goreleaser-service"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/pthomison/example-goreleaser-systemd-service/releases/download/v0.0.10/example-goreleaser-service_0.0.10_Linux_armv6.tar.gz"
      sha256 "31114f25908cf1c656d0a330bc5acb6520b26c1289ba241669e9515c6399d62f"

      def install
        bin.install "example-goreleaser-service"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/pthomison/example-goreleaser-systemd-service/releases/download/v0.0.10/example-goreleaser-service_0.0.10_Linux_x86_64.tar.gz"
      sha256 "6058344e8eaf79944b4683a3ff1a8bec8444c33f8456115d2f5a0721f0e7d93c"

      def install
        bin.install "example-goreleaser-service"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/pthomison/example-goreleaser-systemd-service/releases/download/v0.0.10/example-goreleaser-service_0.0.10_Linux_arm64.tar.gz"
      sha256 "b34c9af7570db6b44e3274707dfadcd476ba6ae87da7e342c9fec6a9d975574e"

      def install
        bin.install "example-goreleaser-service"
      end
    end
  end

  def post_install
    (var/"lib/example-goreleaser-service").mkpath
  end

  service do
    run opt_bin/"example-goreleaser-service"
    log_path var/"log/example-goreleaser-service-stdout.log"
    error_log_path var/"log/example-goreleaser-service-stderr.log"
    working_dir var/"lib/example-goreleaser-service"
  end
end
